# -*- mode: snippet -*-
# name: horizontal_line
# key: hline
# --
`(let*
    ((comment (string-trim comment-start))
	(comment
	 (concat comment
		    (when (eq (length comment) 1) comment)))
	(field-char (string-to-char
			   (replace-regexp-in-string
			    ";" "-"
			    (substring comment -1))))
	(field-len (- 79 (current-column) (* 2 (length comment)) 2)))
  (concat comment " "
		(make-string field-len field-char)
		" " comment))`$0